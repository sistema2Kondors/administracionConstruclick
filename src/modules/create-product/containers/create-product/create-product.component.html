<sb-layout-dashboard>
    <sb-dashboard-head title="" class="titleNotifications" [hideBreadcrumbs]="false"></sb-dashboard-head>
    <div class="row">
        <div class="col-md-6 col-12">
            <div class="contentBtnMensajes">
                <button type="button" class="btn btnContinue" routerLink="/tienda"> < VOLVER</button>
            </div>
        </div>
    </div>
    <form [formGroup]="productForm" (ngSubmit)="onProducts()">
        <div class="container-fluid">
            <div class="contentProduct">
                <div class="row">
                    <div class="col-md-12 col-12">
                        <h1 class="titleProduct">Completa la información del producto</h1>
                    </div>
                    <div class="col-md-12 col-12">
                        <label>Nombre Producto</label>
                    </div>
                    <div class="col-md-6 col-12">
                        <input type="text" class="form-control inputProduct" [class.is-invalid]="f.name.errors && f.name.touched" aria-label="Sizing example input" placeholder="Nombre Producto" aria-describedby="inputGroup-sizing-default" formControlName="name">
                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Ingresar Nombre
                        </div>
                    </div>
                    <div class="col-md-6 col-12">
                        <input type="text" class="form-control inputProduct" [class.is-invalid]="f.brand.errors && f.brand.touched" aria-label="Sizing example input" placeholder="Marca" aria-describedby="inputGroup-sizing-default" formControlName="brand">
                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Ingresar Marca
                        </div>
                    </div>
                    <div class="col-md-12 col-12">
                        <textarea class="textDescription" [class.is-invalid]="f.longDescription.errors && f.longDescription.touched" name="textarea" rows="10" cols="50" placeholder="Descripción del producto" formControlName="longDescription"></textarea>
                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Ingresar Descripción
                        </div>
                    </div>
                    <div class="col-md-6 col-12">
                        <input type="number" class="form-control inputProduct" [class.is-invalid]="f.quantity.errors && f.quantity.touched" aria-label="Sizing example input" placeholder="Cantidad" aria-describedby="inputGroup-sizing-default" formControlName="quantity">
                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Ingresar Cantidad
                        </div>
                    </div>
                    <div class="col-md-6 col-12">
                        <input type="number" class="form-control inputProduct" [class.is-invalid]="f.price.errors && f.price.touched" aria-label="Sizing example input" placeholder="Precio" aria-describedby="inputGroup-sizing-default" formControlName="price">
                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Ingresar Precio
                        </div>
                    </div>
                    <div class="col-md-3 col-12">
                        <label for="">Sku</label>
                        <input type="number" class="form-control inputProduct" [class.is-invalid]="f.sku.errors && f.sku.touched" aria-label="Sizing example input" placeholder="SKU" aria-describedby="inputGroup-sizing-default" formControlName="sku">
                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Ingresar SKU
                        </div>
                    </div>

                    <div class="col-md-4 col-12">
                        <label for="">Proveedor</label>
                        <select formControlName="idProvider" name="category" class="form-select" [class.is-invalid]="f.idProvider.errors && f.idProvider.touched" aria-label="Default select example">
                            <option value="" selected="true" disabled="disabled">Seleccione Proveedor</option>
                            <option  *ngFor="let item of selectedProvider" [value]="item._id">{{item.name}}</option>
                        </select>
                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Seleccione el proveedor
                        </div>
                    </div>

                    <div class="col-md-5 col-12">
                        <!-- <label for="">Categoría del Producto</label>
                        <select aria-autocomplete="inline" formControlName="category" name="category" class="form-select" [class.is-invalid]="f.category.errors && f.category.touched" aria-label="Default select example">
                            <option value="" selected="true" disabled="disabled">Seleccione categoria</option>
                            <option  *ngFor="let item of arrayCategories" [value]="item._id">{{item.name}}</option>
                        </select> -->
                        <label for="">Categoría del Producto</label>
                        <ng-select formControlName="category" name="category" class="form-control selectInputProduct" [class.is-invalid]="f.category.errors && f.category.touched" aria-label="Default select example">
                            <ng-option value="" selected="true" disabled="disabled">Seleccione categoria</ng-option>
                            <ng-option *ngFor="let item of arrayCategories" [value]="item._id">{{item.name}}</ng-option>
                        </ng-select>

                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Seleccione categoria
                        </div>

                    </div>

                    <div class="col-md-6 col-12">
                        <label for="">Agregar Ficha Técnica</label>
                        <input type="file" id="input" class="form-control inputFile" (change)="PdfSelectedData($event)" formControlName="dataSheet" [class.is-invalid]="f.dataSheet.errors && f.dataSheet.touched">
                        <div *ngIf="selectedPdfData ; else noFile">
                            <h4 class="archiveFIle"> {{selectedPdfData.name}}</h4>
                        </div>
                        <ng-template #noFile>
                            <!-- <h4 class="archiveFIle">Archivo</h4> -->
                        </ng-template>

                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Seleccione Ficha técnica
                        </div>
                    </div>

                    <div class="col-md-6 col-12">
                        <label for="">Agregar hoja de seguridad</label>
                        <input type="file" class="form-control inputFile" (change)="PdfSelectedSafe($event)" formControlName="safetySheet" [class.is-invalid]="f.safetySheet.errors && f.safetySheet.touched" />

                        <div *ngIf="selectedPdfSafe ; else noFileSegurity">
                            <h4 class="archiveFIle"> {{selectedPdfSafe.name}}</h4>
                        </div>
                        <ng-template #noFileSegurity>
                            <!-- <h4 class="archiveFIle">Archivo</h4> -->
                        </ng-template>
                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Seleccione Hoja de Seguridad
                        </div>
                    </div>

                    <div class="col-md-6 col-12">
                        <label for="">Agregar imagen principal</label>
                        <input type="file" class="form-control inputFile" (change)="onImgCover($event)" formControlName="coverImage" [class.is-invalid]="f.coverImage.errors && f.coverImage.touched" />

                        <div *ngIf="selectedImgCover ; else noImg">
                            <h4 class="archiveFIle"> {{selectedImgCover.name}}</h4>
                        </div>
                        <ng-template #noImg>
                            <!-- <h4 class="archiveFIle">Imagen</h4> -->
                        </ng-template>

                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Seleccione la imágen principal
                        </div>
                    </div>

                    <div class="col-md-6 col-12">
                        <label for="">Agregar Carrusel de imágenes</label>
                        <input type="file" class="form-control inputFile" id="file" multiple (change)="selectFilesGallery($event)" formControlName="images" [class.is-invalid]="f.images.errors && f.images.touched" />


                        <div *ngFor="let item of selectedImgArray">
                            <div *ngIf="item; else noImgMultiple">
                                <h4 class="archiveFIle"> {{item.name}}</h4>
                            </div>
                        </div>
                        <ng-template #noImgMultiple>
                            <!-- <h4 class="archiveFIle">Imagen 444</h4> -->
                        </ng-template>

                        <div id="validationServerUsernameFeedback" class="invalid-feedback">
                            Seleccione las imágenes
                        </div>

                    </div>
                    <div class="col-md-12 col-12">
                        <div class="contentBtnNext">
                            <button type="submit" class="btn btnContinue"> Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <div class="col-12">
        <div class="especificaciones">
            <button type="button" class="btn btnEspecificaciones" data-bs-toggle="modal" data-bs-target="#staticBackdrop"> 
                Agregar Especificaciones
            </button>
        </div>
    </div>
    <div class="modal fade " id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered ">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">AGREGAR ESPECIFICACIONES DEL PRODUCTO</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form [formGroup]="reviewProductForm" (ngSubmit)="registerReview()">

                        <div class="row">
                            <select formControlName="id" name="category" class="selectProduct">
                                <option value="" selected="true" disabled="disabled">Seleccione un producto </option>
                                <option  *ngFor="let item of selectedProducts" [value]="item._id"> {{item.name}}</option>
                            </select>
                            <div class="col-md-12 col-12">
                                <label for="">Titulo</label>
                                <input type="text" class="inputEspecificaciones" formControlName="title">
                            </div>

                            <div class="col-12">
                                <label for="">Descripcion</label>
                                <input type="text" class="textDescription" formControlName="detailReview">
                            </div>
                            <!-- <div class="col-12">
                                <label for="">Email</label>
                                <input type="text" formControlName="emailOwner">
                
                            </div> -->
                        </div>
                        <br>
                    </form>

                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btnAgregar"> Agregar</button>
                    <button type="button" class="btn btnCerrar" data-bs-dismiss="modal">Cerrar</button>
                    <!-- <button type="button" class="btn btn-primary">Understood</button> -->
                </div>
            </div>
        </div>
    </div>



</sb-layout-dashboard>